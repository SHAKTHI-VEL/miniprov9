{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useContext } from \"react\";\nimport { ExpenseTrackerContext } from \"./context/context\";\nimport { incomeCategories, expenseCategories, resetCategories } from \"./constants/categories\";\n\nconst useTransactions = title => {\n  _s();\n\n  resetCategories();\n  const {\n    transactions\n  } = useContext(ExpenseTrackerContext);\n  const transactionsPerType = transactions.filter(t => t.type === title);\n  const total = transactionsPerType.reduce((acc, currVal) => acc += currVal.amount, 0);\n  const categories = title === 'Income' ? incomeCategories : expenseCategories;\n  console.log({\n    transactionsPerType,\n    total,\n    categories\n  });\n  transactionsPerType.forEach(t => {\n    const category = categories.find(c => c.type === t.category);\n    if (category) category.amount += t.amount;\n  });\n  const filteredCategories = categories.filter(c => c.amount > 0);\n  const chartData = {\n    datasets: [{\n      data: filteredCategories.map(c => c.amount),\n      backgroundColor: filteredCategories.map(c => c.color)\n    }],\n    labels: [filteredCategories.map(c => c.type)],\n    hoverOffset: 4\n  };\n  return {\n    filteredCategories,\n    total,\n    chartData\n  };\n};\n\n_s(useTransactions, \"A6iGkhYpgttKQ3XBwH6If3ta7Ms=\");\n\nexport default useTransactions;","map":{"version":3,"names":["useContext","ExpenseTrackerContext","incomeCategories","expenseCategories","resetCategories","useTransactions","title","transactions","transactionsPerType","filter","t","type","total","reduce","acc","currVal","amount","categories","console","log","forEach","category","find","c","filteredCategories","chartData","datasets","data","map","backgroundColor","color","labels","hoverOffset"],"sources":["/home/shakthivel/Documents/mini-project/src/useTransactions.js"],"sourcesContent":["import { useContext } from \"react\";\nimport { ExpenseTrackerContext } from \"./context/context\";\n\nimport { incomeCategories, expenseCategories, resetCategories } from \"./constants/categories\";\n\nconst useTransactions = (title) => {\n    resetCategories();\n    const {transactions} = useContext(ExpenseTrackerContext);\n    const transactionsPerType = transactions.filter((t) => t.type === title);\n    const total = transactionsPerType.reduce((acc, currVal) => acc += currVal.amount, 0);\n    const categories = title === 'Income'? incomeCategories : expenseCategories;\n\n\n    console.log({transactionsPerType, total, categories})\n\n    transactionsPerType.forEach((t) => {\n        const category = categories.find((c) => c.type === t.category)\n\n        if(category) category.amount += t.amount;\n    });\n\n    const filteredCategories = categories.filter((c) => c.amount > 0);\n\n\n    const chartData = {\n        datasets: [{\n            data: filteredCategories.map((c) => c.amount),\n            backgroundColor: filteredCategories.map((c) => c.color),\n        }],\n       \n        labels: [filteredCategories.map((c) => c.type)],\n        \n        hoverOffset: 4,\n    }\n\n    return {filteredCategories, total, chartData}\n}\n\nexport default useTransactions"],"mappings":";;AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,qBAAT,QAAsC,mBAAtC;AAEA,SAASC,gBAAT,EAA2BC,iBAA3B,EAA8CC,eAA9C,QAAqE,wBAArE;;AAEA,MAAMC,eAAe,GAAIC,KAAD,IAAW;EAAA;;EAC/BF,eAAe;EACf,MAAM;IAACG;EAAD,IAAiBP,UAAU,CAACC,qBAAD,CAAjC;EACA,MAAMO,mBAAmB,GAAGD,YAAY,CAACE,MAAb,CAAqBC,CAAD,IAAOA,CAAC,CAACC,IAAF,KAAWL,KAAtC,CAA5B;EACA,MAAMM,KAAK,GAAGJ,mBAAmB,CAACK,MAApB,CAA2B,CAACC,GAAD,EAAMC,OAAN,KAAkBD,GAAG,IAAIC,OAAO,CAACC,MAA5D,EAAoE,CAApE,CAAd;EACA,MAAMC,UAAU,GAAGX,KAAK,KAAK,QAAV,GAAoBJ,gBAApB,GAAuCC,iBAA1D;EAGAe,OAAO,CAACC,GAAR,CAAY;IAACX,mBAAD;IAAsBI,KAAtB;IAA6BK;EAA7B,CAAZ;EAEAT,mBAAmB,CAACY,OAApB,CAA6BV,CAAD,IAAO;IAC/B,MAAMW,QAAQ,GAAGJ,UAAU,CAACK,IAAX,CAAiBC,CAAD,IAAOA,CAAC,CAACZ,IAAF,KAAWD,CAAC,CAACW,QAApC,CAAjB;IAEA,IAAGA,QAAH,EAAaA,QAAQ,CAACL,MAAT,IAAmBN,CAAC,CAACM,MAArB;EAChB,CAJD;EAMA,MAAMQ,kBAAkB,GAAGP,UAAU,CAACR,MAAX,CAAmBc,CAAD,IAAOA,CAAC,CAACP,MAAF,GAAW,CAApC,CAA3B;EAGA,MAAMS,SAAS,GAAG;IACdC,QAAQ,EAAE,CAAC;MACPC,IAAI,EAAEH,kBAAkB,CAACI,GAAnB,CAAwBL,CAAD,IAAOA,CAAC,CAACP,MAAhC,CADC;MAEPa,eAAe,EAAEL,kBAAkB,CAACI,GAAnB,CAAwBL,CAAD,IAAOA,CAAC,CAACO,KAAhC;IAFV,CAAD,CADI;IAMdC,MAAM,EAAE,CAACP,kBAAkB,CAACI,GAAnB,CAAwBL,CAAD,IAAOA,CAAC,CAACZ,IAAhC,CAAD,CANM;IAQdqB,WAAW,EAAE;EARC,CAAlB;EAWA,OAAO;IAACR,kBAAD;IAAqBZ,KAArB;IAA4Ba;EAA5B,CAAP;AACH,CA/BD;;GAAMpB,e;;AAiCN,eAAeA,eAAf"},"metadata":{},"sourceType":"module"}