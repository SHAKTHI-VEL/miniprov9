{"ast":null,"code":"var _jsxFileName = \"/home/shakthivel/Documents/mini-project/src/context/context.js\",\n    _s = $RefreshSig$();\n\nimport React, { createContext, useState } from 'react';\nimport contextReducer from './contextReducer';\nconst initialState = [];\nexport const ExpenseTrackerContext = /*#__PURE__*/createContext(initialState);\nexport const Provider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [transactions, settransactions] = useState(initialState); //Action Creators\n\n  const getTransactions = async transaction => {\n    const response = await fetch(`http://localhost:5000/api/v1/transactions`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        \"auth-token\": localStorage.getItem('token')\n      }\n    });\n    const json = await response.json();\n    settransactions(json);\n  };\n\n  const addTransaction = async transaction => {\n    const response = await fetch(`http://localhost:5000/api/v1/transactions`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        \"auth-token\": localStorage.getItem('token')\n      },\n      body: JSON.stringify({\n        transaction\n      })\n    });\n    const tran = await response.json();\n    settransactions(transactions.concat(tran));\n  }; // const  deleteTransaction=async (id)=>{\n  //   const response = await fetch(`http://localhost:5000/api/v1/transactions/${id}`, {\n  //     method: 'DELETE', \n  //     headers: {\n  //       'Content-Type': 'application/json',\n  //       \"auth-token\":localStorage.getItem('token')\n  //     },\n  //  });\n  //  const json= response.json(); \n  //   const newTransaction=transactions.filter((note)=>{return transactions._id!==id});\n  //   settransactions(newTransaction)\n  // }\n  // const balance = transactions.reduce((acc, currVal) => (currVal.type === 'Expense' ? acc - currVal.amount : acc + currVal.amount), 0);\n\n\n  console.log(transactions);\n  return /*#__PURE__*/React.createElement(ExpenseTrackerContext.Provider, {\n    value: {\n      getTransactions,\n      deleteTransaction,\n      addTransaction,\n      transactions // balance\n\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, children);\n};\n\n_s(Provider, \"RFqSvLn0oUdQiO5r7d5SxmR9LuY=\");\n\n_c = Provider;\n\nvar _c;\n\n$RefreshReg$(_c, \"Provider\");","map":{"version":3,"names":["React","createContext","useState","contextReducer","initialState","ExpenseTrackerContext","Provider","children","transactions","settransactions","getTransactions","transaction","response","fetch","method","headers","localStorage","getItem","json","addTransaction","body","JSON","stringify","tran","concat","console","log","deleteTransaction"],"sources":["/home/shakthivel/Documents/mini-project/src/context/context.js"],"sourcesContent":["import React, { createContext ,useState} from 'react';\nimport contextReducer from './contextReducer';\n\n\n\nconst initialState = []\n\n\n\nexport const ExpenseTrackerContext = createContext(initialState);\n\nexport const Provider = ({ children }) => {\n  const [transactions,settransactions]=useState(initialState)\n  \n \n   \n\n    //Action Creators\n   \n    const getTransactions=async (transaction)=>{\n      const response = await fetch(`http://localhost:5000/api/v1/transactions`, {\n        method: 'GET', \n        \n        headers: {\n          'Content-Type': 'application/json',\n          \"auth-token\":localStorage.getItem('token')\n        },\n      \n  \n     });\n     const json=await response.json(); \n      \n       settransactions(json)\n    \n    }\n\n    const addTransaction=async (transaction)=>{\n      const response = await fetch(`http://localhost:5000/api/v1/transactions`, {\n        method: 'POST', \n        \n        headers: {\n          'Content-Type': 'application/json',\n          \"auth-token\":localStorage.getItem('token')\n        },\n      \n        body: JSON.stringify({transaction}) \n     });\n     const tran=await response.json(); \n     settransactions(transactions.concat(tran))\n       \n    }\n\n    // const  deleteTransaction=async (id)=>{\n    //   const response = await fetch(`http://localhost:5000/api/v1/transactions/${id}`, {\n       \n    //     method: 'DELETE', \n        \n    //     headers: {\n    //       'Content-Type': 'application/json',\n    //       \"auth-token\":localStorage.getItem('token')\n    //     },\n      \n     \n       \n    //  });\n    //  const json= response.json(); \n    \n      \n    \n    //   const newTransaction=transactions.filter((note)=>{return transactions._id!==id});\n    //   settransactions(newTransaction)\n    // }\n\n\n          \n\n    // const balance = transactions.reduce((acc, currVal) => (currVal.type === 'Expense' ? acc - currVal.amount : acc + currVal.amount), 0);\n\n    console.log(transactions);\n\n  \n\n    return (\n        <ExpenseTrackerContext.Provider value={{\n            getTransactions,\n            deleteTransaction,\n            addTransaction,\n            transactions,\n            // balance\n        }}>\n            {children}\n        </ExpenseTrackerContext.Provider>\n    )\n}"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,QAA/B,QAA8C,OAA9C;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AAIA,MAAMC,YAAY,GAAG,EAArB;AAIA,OAAO,MAAMC,qBAAqB,gBAAGJ,aAAa,CAACG,YAAD,CAA3C;AAEP,OAAO,MAAME,QAAQ,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EACxC,MAAM,CAACC,YAAD,EAAcC,eAAd,IAA+BP,QAAQ,CAACE,YAAD,CAA7C,CADwC,CAMtC;;EAEA,MAAMM,eAAe,GAAC,MAAOC,WAAP,IAAqB;IACzC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,2CAAF,EAA8C;MACxEC,MAAM,EAAE,KADgE;MAGxEC,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEP,cAAaC,YAAY,CAACC,OAAb,CAAqB,OAArB;MAFN;IAH+D,CAA9C,CAA5B;IAUD,MAAMC,IAAI,GAAC,MAAMN,QAAQ,CAACM,IAAT,EAAjB;IAEET,eAAe,CAACS,IAAD,CAAf;EAEF,CAfD;;EAiBA,MAAMC,cAAc,GAAC,MAAOR,WAAP,IAAqB;IACxC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,2CAAF,EAA8C;MACxEC,MAAM,EAAE,MADgE;MAGxEC,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEP,cAAaC,YAAY,CAACC,OAAb,CAAqB,OAArB;MAFN,CAH+D;MAQxEG,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QAACX;MAAD,CAAf;IARkE,CAA9C,CAA5B;IAUD,MAAMY,IAAI,GAAC,MAAMX,QAAQ,CAACM,IAAT,EAAjB;IACAT,eAAe,CAACD,YAAY,CAACgB,MAAb,CAAoBD,IAApB,CAAD,CAAf;EAEA,CAdD,CAzBsC,CAyCtC;EACA;EAEA;EAEA;EACA;EACA;EACA;EAIA;EACA;EAIA;EACA;EACA;EAKA;;;EAEAE,OAAO,CAACC,GAAR,CAAYlB,YAAZ;EAIA,oBACI,oBAAC,qBAAD,CAAuB,QAAvB;IAAgC,KAAK,EAAE;MACnCE,eADmC;MAEnCiB,iBAFmC;MAGnCR,cAHmC;MAInCX,YAJmC,CAKnC;;IALmC,CAAvC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAOKD,QAPL,CADJ;AAWH,CAlFM;;GAAMD,Q;;KAAAA,Q"},"metadata":{},"sourceType":"module"}