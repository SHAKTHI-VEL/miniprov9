{"ast":null,"code":"import _defineProperty from\"/home/shakthivel/Documents/mini-project/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/shakthivel/Documents/mini-project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/home/shakthivel/Documents/mini-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/shakthivel/Documents/mini-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/shakthivel/Documents/mini-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';var Signup=function Signup(){var _useState=useState({name:\"\",email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),credentials=_useState2[0],setCredentials=_useState2[1];var navigate=useNavigate();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var name,email,password,response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();name=credentials.name,email=credentials.email,password=credentials.password;_context.next=4;return fetch(\"https://fintrackbackend-production-89dd.up.railway.app/api/auth/createuser\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:name,email:email,password:password})});case 4:response=_context.sent;_context.next=7;return response.json();case 7:json=_context.sent;console.log(json);if(json.success){// Save the auth token and redirect\nlocalStorage.setItem('token',json.authtoken);navigate(\"/dashboard\");}else{alert(\"User with this email id already exist\");}case 10:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var onChange=function onChange(e){setCredentials(_objectSpread(_objectSpread({},credentials),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/React.createElement(\"div\",{className:\"container mt-3\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"my-2\"},\"SignUp\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 my-3\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\",className:\"form-label\"},\"Username\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"name\",name:\"name\",\"aria-describedby\":\"emailHelp\",onChange:onChange,minLength:3})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\",className:\"form-label\"},\"Email address\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",name:\"email\",\"aria-describedby\":\"emailHelp\",onChange:onChange,value:credentials.email}),/*#__PURE__*/React.createElement(\"div\",{id:\"emailHelp\",className:\"form-text\"},\"We'll never share your email with anyone else.\")),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\",className:\"form-label\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",minLength:5,required:true,onChange:onChange,placeholder:\"password should have minimum length of 5 characters\"})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary\"},\"Submit\")));};export default Signup;","map":{"version":3,"names":["React","useState","useNavigate","Signup","name","email","password","credentials","setCredentials","navigate","handleSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","response","json","console","log","success","localStorage","setItem","authtoken","alert","onChange","target","value"],"sources":["/home/shakthivel/Documents/mini-project/src/components/test/Signup.js"],"sourcesContent":["import React, {useState} from 'react'\nimport { useNavigate } from 'react-router-dom'\n\nconst Signup = () => {\n  const [credentials, setCredentials] = useState({name:\"\",email: \"\", password: \"\"}) \n  let navigate = useNavigate(); \n  const handleSubmit = async (e) => {\n   \n    e.preventDefault();\n    \n    const {name,email,password}=credentials;\n    const response = await fetch(\"https://fintrackbackend-production-89dd.up.railway.app/api/auth/createuser\", {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({name,email,password})\n    });\n    const json = await response.json()\n    console.log(json);\n    if (json.success){\n        // Save the auth token and redirect\n        localStorage.setItem('token', json.authtoken); \n        navigate(\"/dashboard\");\n\n    }\n    else{\n        alert(\"User with this email id already exist\");\n    }\n}\n\nconst onChange = (e)=>{\n    setCredentials({...credentials, [e.target.name]: e.target.value})\n}\n  return (\n    <div className=\"container mt-3\">\n    <h1 className=\"my-2\">SignUp</h1>\n      <form onSubmit={handleSubmit}> \n      <div className=\"mb-3 my-3\">\n    <label htmlFor=\"name\" className=\"form-label\" >Username</label>\n    <input type=\"text\" className=\"form-control\" id=\"name\" name=\"name\" aria-describedby=\"emailHelp\" onChange={onChange} minLength={3}/>\n    \n  </div>\n  <div className=\"mb-3\">\n    <label htmlFor=\"email\" className=\"form-label\" >Email address</label>\n    <input type=\"email\" className=\"form-control\" id=\"email\" name=\"email\" aria-describedby=\"emailHelp\" onChange={onChange}  value={credentials.email} />\n    <div id=\"emailHelp\" className=\"form-text\">We'll never share your email with anyone else.</div>\n  </div>\n  <div className=\"mb-3\">\n    <label htmlFor=\"password\" className=\"form-label\">Password</label>\n    <input type=\"password\" className=\"form-control\" id=\"password\" name=\"password\" minLength={5} required  onChange={onChange} placeholder=\"password should have minimum length of 5 characters\"/>\n  </div>\n  {/* <div className=\"mb-3\">\n    <label htmlFor=\"cpassword\" className=\"form-label\" >Confirm Password</label>\n    <input type=\"password\" className=\"form-control\" id=\"cpassword\" name=\"cpassword\" minLength={5} required onChange={onChange}/>\n  </div> */}\n\n  <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n</form>\n    </div>\n  )\n}\n\nexport default Signup"],"mappings":"koBAAA,MAAOA,MAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAASC,WAAT,KAA4B,kBAA5B,CAEA,GAAMC,OAAM,CAAG,QAATA,OAAS,EAAM,CACnB,cAAsCF,QAAQ,CAAC,CAACG,IAAI,CAAC,EAAN,CAASC,KAAK,CAAE,EAAhB,CAAoBC,QAAQ,CAAE,EAA9B,CAAD,CAA9C,wCAAOC,WAAP,eAAoBC,cAApB,eACA,GAAIC,SAAQ,CAAGP,WAAW,EAA1B,CACA,GAAMQ,aAAY,4FAAG,iBAAOC,CAAP,0JAEnBA,CAAC,CAACC,cAAF,GAEOR,IAJY,CAISG,WAJT,CAIZH,IAJY,CAIPC,KAJO,CAISE,WAJT,CAIPF,KAJO,CAIDC,QAJC,CAISC,WAJT,CAIDD,QAJC,uBAKIO,MAAK,CAAC,4EAAD,CAA+E,CACvGC,MAAM,CAAE,MAD+F,CAEvGC,OAAO,CAAE,CACL,eAAgB,kBADX,CAF8F,CAKvGC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAACd,IAAI,CAAJA,IAAD,CAAMC,KAAK,CAALA,KAAN,CAAYC,QAAQ,CAARA,QAAZ,CAAf,CALiG,CAA/E,CALT,QAKba,QALa,qCAYAA,SAAQ,CAACC,IAAT,EAZA,QAYbA,IAZa,eAanBC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,GAAIA,IAAI,CAACG,OAAT,CAAiB,CACb;AACAC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BL,IAAI,CAACM,SAAnC,EACAjB,QAAQ,CAAC,YAAD,CAAR,CAEH,CALD,IAMI,CACAkB,KAAK,CAAC,uCAAD,CAAL,CACH,CAtBkB,uDAAH,kBAAZjB,aAAY,4CAAlB,CAyBF,GAAMkB,SAAQ,CAAG,QAAXA,SAAW,CAACjB,CAAD,CAAK,CAClBH,cAAc,gCAAKD,WAAL,wBAAmBI,CAAC,CAACkB,MAAF,CAASzB,IAA5B,CAAmCO,CAAC,CAACkB,MAAF,CAASC,KAA5C,GAAd,CACH,CAFD,CAGE,mBACE,2BAAK,SAAS,CAAC,gBAAf,eACA,0BAAI,SAAS,CAAC,MAAd,WADA,cAEE,4BAAM,QAAQ,CAAEpB,YAAhB,eACA,2BAAK,SAAS,CAAC,WAAf,eACF,6BAAO,OAAO,CAAC,MAAf,CAAsB,SAAS,CAAC,YAAhC,aADE,cAEF,6BAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,EAAE,CAAC,MAA/C,CAAsD,IAAI,CAAC,MAA3D,CAAkE,mBAAiB,WAAnF,CAA+F,QAAQ,CAAEkB,QAAzG,CAAmH,SAAS,CAAE,CAA9H,EAFE,CADA,cAMJ,2BAAK,SAAS,CAAC,MAAf,eACE,6BAAO,OAAO,CAAC,OAAf,CAAuB,SAAS,CAAC,YAAjC,kBADF,cAEE,6BAAO,IAAI,CAAC,OAAZ,CAAoB,SAAS,CAAC,cAA9B,CAA6C,EAAE,CAAC,OAAhD,CAAwD,IAAI,CAAC,OAA7D,CAAqE,mBAAiB,WAAtF,CAAkG,QAAQ,CAAEA,QAA5G,CAAuH,KAAK,CAAErB,WAAW,CAACF,KAA1I,EAFF,cAGE,2BAAK,EAAE,CAAC,WAAR,CAAoB,SAAS,CAAC,WAA9B,mDAHF,CANI,cAWJ,2BAAK,SAAS,CAAC,MAAf,eACE,6BAAO,OAAO,CAAC,UAAf,CAA0B,SAAS,CAAC,YAApC,aADF,cAEE,6BAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,cAAjC,CAAgD,EAAE,CAAC,UAAnD,CAA8D,IAAI,CAAC,UAAnE,CAA8E,SAAS,CAAE,CAAzF,CAA4F,QAAQ,KAApG,CAAsG,QAAQ,CAAEuB,QAAhH,CAA0H,WAAW,CAAC,qDAAtI,EAFF,CAXI,cAoBJ,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,WApBI,CAFF,CADF,CA2BD,CA1DD,CA4DA,cAAezB,OAAf"},"metadata":{},"sourceType":"module"}