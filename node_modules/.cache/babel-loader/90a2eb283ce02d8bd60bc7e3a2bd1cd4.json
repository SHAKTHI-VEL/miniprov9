{"ast":null,"code":"import{useContext}from\"react\";import{ExpenseTrackerContext}from\"./context/context\";import{incomeCategories,expenseCategories,resetCategories}from\"./constants/categories\";var useTransactions=function useTransactions(title){resetCategories();var _useContext=useContext(ExpenseTrackerContext),transactions=_useContext.transactions;var transactionsPerType=transactions.filter(function(t){return t.type===title;});var total=transactionsPerType.reduce(function(acc,currVal){return acc+=currVal.amount;},0);var categories=title==='Income'?incomeCategories:expenseCategories;console.log({transactionsPerType:transactionsPerType,total:total,categories:categories});transactionsPerType.forEach(function(t){var category=categories.find(function(c){return c.type===t.category;});if(category)category.amount+=t.amount;});var filteredCategories=categories.filter(function(c){return c.amount>0;});var chartData={datasets:[{data:filteredCategories.map(function(c){return c.amount;}),backgroundColor:filteredCategories.map(function(c){return c.color;})}],labels:[filteredCategories.map(function(c){return c.type;})],hoverOffset:4};return{filteredCategories:filteredCategories,total:total,chartData:chartData};};export default useTransactions;","map":{"version":3,"names":["useContext","ExpenseTrackerContext","incomeCategories","expenseCategories","resetCategories","useTransactions","title","transactions","transactionsPerType","filter","t","type","total","reduce","acc","currVal","amount","categories","console","log","forEach","category","find","c","filteredCategories","chartData","datasets","data","map","backgroundColor","color","labels","hoverOffset"],"sources":["/home/shakthivel/Documents/mini-project/src/useTransactions.js"],"sourcesContent":["import { useContext } from \"react\";\nimport { ExpenseTrackerContext } from \"./context/context\";\n\nimport { incomeCategories, expenseCategories, resetCategories } from \"./constants/categories\";\n\nconst useTransactions = (title) => {\n    resetCategories();\n    const {transactions} = useContext(ExpenseTrackerContext);\n    const transactionsPerType = transactions.filter((t) => t.type === title);\n    const total = transactionsPerType.reduce((acc, currVal) => acc += currVal.amount, 0);\n    const categories = title === 'Income'? incomeCategories : expenseCategories;\n\n\n    console.log({transactionsPerType, total, categories})\n\n    transactionsPerType.forEach((t) => {\n        const category = categories.find((c) => c.type === t.category)\n\n        if(category) category.amount += t.amount;\n    });\n\n    const filteredCategories = categories.filter((c) => c.amount > 0);\n\n\n    const chartData = {\n        datasets: [{\n            data: filteredCategories.map((c) => c.amount),\n            backgroundColor: filteredCategories.map((c) => c.color),\n        }],\n       \n        labels: [filteredCategories.map((c) => c.type)],\n        \n        hoverOffset: 4,\n    }\n\n    return {filteredCategories, total, chartData}\n}\n\nexport default useTransactions"],"mappings":"AAAA,OAASA,UAAT,KAA2B,OAA3B,CACA,OAASC,qBAAT,KAAsC,mBAAtC,CAEA,OAASC,gBAAT,CAA2BC,iBAA3B,CAA8CC,eAA9C,KAAqE,wBAArE,CAEA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,KAAD,CAAW,CAC/BF,eAAe,GACf,gBAAuBJ,UAAU,CAACC,qBAAD,CAAjC,CAAOM,YAAP,aAAOA,YAAP,CACA,GAAMC,oBAAmB,CAAGD,YAAY,CAACE,MAAb,CAAoB,SAACC,CAAD,QAAOA,EAAC,CAACC,IAAF,GAAWL,KAAlB,EAApB,CAA5B,CACA,GAAMM,MAAK,CAAGJ,mBAAmB,CAACK,MAApB,CAA2B,SAACC,GAAD,CAAMC,OAAN,QAAkBD,IAAG,EAAIC,OAAO,CAACC,MAAjC,EAA3B,CAAoE,CAApE,CAAd,CACA,GAAMC,WAAU,CAAGX,KAAK,GAAK,QAAV,CAAoBJ,gBAApB,CAAuCC,iBAA1D,CAGAe,OAAO,CAACC,GAAR,CAAY,CAACX,mBAAmB,CAAnBA,mBAAD,CAAsBI,KAAK,CAALA,KAAtB,CAA6BK,UAAU,CAAVA,UAA7B,CAAZ,EAEAT,mBAAmB,CAACY,OAApB,CAA4B,SAACV,CAAD,CAAO,CAC/B,GAAMW,SAAQ,CAAGJ,UAAU,CAACK,IAAX,CAAgB,SAACC,CAAD,QAAOA,EAAC,CAACZ,IAAF,GAAWD,CAAC,CAACW,QAApB,EAAhB,CAAjB,CAEA,GAAGA,QAAH,CAAaA,QAAQ,CAACL,MAAT,EAAmBN,CAAC,CAACM,MAArB,CAChB,CAJD,EAMA,GAAMQ,mBAAkB,CAAGP,UAAU,CAACR,MAAX,CAAkB,SAACc,CAAD,QAAOA,EAAC,CAACP,MAAF,CAAW,CAAlB,EAAlB,CAA3B,CAGA,GAAMS,UAAS,CAAG,CACdC,QAAQ,CAAE,CAAC,CACPC,IAAI,CAAEH,kBAAkB,CAACI,GAAnB,CAAuB,SAACL,CAAD,QAAOA,EAAC,CAACP,MAAT,EAAvB,CADC,CAEPa,eAAe,CAAEL,kBAAkB,CAACI,GAAnB,CAAuB,SAACL,CAAD,QAAOA,EAAC,CAACO,KAAT,EAAvB,CAFV,CAAD,CADI,CAMdC,MAAM,CAAE,CAACP,kBAAkB,CAACI,GAAnB,CAAuB,SAACL,CAAD,QAAOA,EAAC,CAACZ,IAAT,EAAvB,CAAD,CANM,CAQdqB,WAAW,CAAE,CARC,CAAlB,CAWA,MAAO,CAACR,kBAAkB,CAAlBA,kBAAD,CAAqBZ,KAAK,CAALA,KAArB,CAA4Ba,SAAS,CAATA,SAA5B,CAAP,CACH,CA/BD,CAiCA,cAAepB,gBAAf"},"metadata":{},"sourceType":"module"}